{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\WEB\\\\crypto\\\\client\\\\pages\\\\customdata.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport Layout from \"../components/layout\";\nimport Highcharts from 'highcharts';\nimport ReactHighcharts from 'react-highcharts';\nimport update from \"immutability-helper\";\nimport auth from \"../services/authService\";\nimport crypto from \"../services/cryptoService\";\nimport loading from \"../src/91.gif\";\nimport cryptoImg from \"../src/crypto-text.png\";\nconst chartOptions = {\n  chart: {\n    zoomType: 'x'\n  },\n  xAxis: {\n    type: 'datetime',\n    dateTimeLabelFormats: {\n      day: '%d-%m-%Y - %h:%m'\n    },\n    title: {\n      text: 'Date'\n    }\n  },\n  yAxis: {\n    title: {\n      text: 'Exchange rate'\n    }\n  },\n  legend: {\n    enabled: false\n  },\n  plotOptions: {\n    area: {\n      fillColor: {\n        linearGradient: {\n          x1: 0,\n          y1: 0,\n          x2: 0,\n          y2: 1\n        },\n        stops: [[0, \"#7cb5ec\"], [0.5, \"#7cb5ec80\"], [0.9, \"#7cb5ff33\"]]\n      },\n      marker: {\n        radius: 2\n      },\n      lineWidth: 1,\n      states: {\n        hover: {\n          lineWidth: 1\n        }\n      },\n      threshold: null\n    }\n  }\n};\nexport default class CustomData extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      user: {},\n      jwt: \"\",\n      data: [],\n      graphs: [],\n      cryptocurrencies: [],\n      currencies: [],\n      selectedCryptocurrency: {},\n      selectedCurrency: {},\n      workers: 0,\n      loading: false,\n      loaded: false,\n      searchQueryCryptocurrencies: \"\",\n      searchQueryCurrencies: \"\",\n      interval: [],\n      chartOptions: {}\n    });\n\n    _defineProperty(this, \"addGraph\", () => {\n      const worker = new Worker(\"static/service-worker.js\");\n\n      const bkOptions = _objectSpread({}, chartOptions);\n\n      const graphs = [...this.state.graphs];\n\n      worker.onmessage = e => {\n        bkOptions.title = {\n          text: `${this.state.selectedCryptocurrency.name} to ${this.state.selectedCurrency.name} exchange rate over time`\n        }, bkOptions.series = [{\n          type: \"line\",\n          name: `${this.state.selectedCryptocurrency.name} to ${this.state.selectedCurrency.name}`,\n          data: e.data.prices\n        }];\n        bkOptions.xAxis.categories = [...e.data.time];\n        graphs.push({\n          id: _Date$now(),\n          chartOptions: bkOptions,\n          cryptocurrency: this.state.selectedCryptocurrency.value,\n          currency: this.state.selectedCurrency.value,\n          live: false,\n          image: e.data.image\n        });\n        this.setState({\n          graphs: graphs,\n          workers: this.state.workers + 1,\n          interval: \"\"\n        });\n      };\n\n      worker.postMessage(`${this.state.selectedCryptocurrency.value},${this.state.selectedCurrency.value},${this.state.jwt}`);\n    });\n\n    _defineProperty(this, \"findName\", (array, value) => {\n      for (let i = 0; i < this.state[array].length; i++) {\n        if (this.state[array][i].id === value) {\n          return this.state[array][i].name;\n        }\n      }\n    });\n\n    _defineProperty(this, \"changeCryptocurrency\", (e, array) => {\n      const name = this.findName(array, e.target.value);\n      this.setState({\n        [`selected${e.target.name}`]: {\n          value: e.target.value,\n          name: name\n        }\n      });\n    });\n\n    _defineProperty(this, \"changeGraphCryptocurrency\", (e, index) => {\n      const graphs = [...this.state.graphs];\n      graphs[index][e.target.name.toLowerCase()] = e.target.value;\n      this.setState({\n        graphs: graphs\n      });\n    });\n\n    _defineProperty(this, \"refreshAll\", () => {\n      let workers = new Array(this.state.workers);\n      const graphs = [...this.state.graphs];\n      this.setState({\n        loading: true\n      });\n\n      for (let i = 0; i < this.state.workers; i++) {\n        workers[i] = new Worker(\"static/service-worker.js\");\n\n        workers[i].onmessage = e => {\n          graphs[i].chartOptions.xAxis.categories = [...e.data.time];\n          graphs[i].chartOptions.series = [{\n            type: \"line\",\n            name: this.state.graphs[i].chartOptions.series[0].name,\n            data: e.data.prices\n          }];\n          this.setState({\n            graphs: graphs,\n            loading: false\n          });\n        };\n\n        workers[i].postMessage(`${graphs[i].cryptocurrency},${graphs[i].currency},${this.state.jwt}`);\n      }\n    });\n\n    _defineProperty(this, \"refreshSingle\", index => {\n      const worker = new Worker(\"static/service-worker.js\");\n      const graphs = [...this.state.graphs]; //this.setState({loading: true});\n\n      worker.onmessage = e => {\n        const cryptocurrency = this.findName(\"cryptocurrencies\", graphs[index].cryptocurrency);\n        const currency = this.findName(\"currencies\", graphs[index].currency);\n        graphs[index].chartOptions.title = {\n          text: `${cryptocurrency} to ${currency} exchange rate over time`\n        }, graphs[index].chartOptions.xAxis.categories = [...e.data.time];\n        graphs[index].image = e.data.image;\n        graphs[index].chartOptions.series = [{\n          type: \"line\",\n          name: `${graphs[index].cryptocurrency} to ${graphs[index].currency}`,\n          data: e.data.prices\n        }];\n        this.setState({\n          graphs: graphs //loading: false\n\n        });\n      };\n\n      worker.postMessage(`${graphs[index].cryptocurrency},${graphs[index].currency},${this.state.jwt}`);\n    });\n\n    _defineProperty(this, \"removeGraph\", index => {\n      let graphs = [...this.state.graphs];\n      clearInterval(graphs[index].interval);\n      graphs = graphs.filter((item, i) => i !== index);\n      this.setState({\n        graphs\n      });\n    });\n\n    _defineProperty(this, \"liveData\", index => {\n      const worker = new Worker(\"static/service-worker.js\");\n      const graphs = [...this.state.graphs];\n\n      worker.onmessage = e => {\n        graphs[index].chartOptions.xAxis.categories.push(e.data.currentTime);\n        graphs[index].chartOptions.series[0].data.push(e.data.currentPrice);\n        graphs[index].chartOptions.series = [{\n          type: \"line\",\n          name: this.state.graphs[index].chartOptions.series[0].name,\n          data: graphs[index].chartOptions.series[0].data\n        }];\n        this.setState({\n          graphs: update(this.state.graphs, {\n            [index]: {\n              $set: graphs[index]\n            }\n          })\n        });\n      };\n\n      worker.postMessage(`${graphs[index].cryptocurrency},${graphs[index].currency},${this.state.jwt}`);\n    });\n\n    _defineProperty(this, \"changeGraphLive\", (e, index) => {\n      const graphs = [...this.state.graphs];\n\n      if (e.target.checked) {\n        graphs[index].interval = setInterval(() => this.liveData(index), 4000);\n        this.setState({\n          graphs\n        });\n      } else {\n        clearInterval(graphs[index].interval);\n      }\n    });\n\n    _defineProperty(this, \"saveGraph\", async index => {\n      const bkGraph = _objectSpread({}, this.state.graphs[index]);\n\n      const cryptocurrency = this.findName(\"cryptocurrencies\", bkGraph.cryptocurrency);\n      const currency = this.findName(\"currencies\", bkGraph.currency);\n      const graph = {\n        categories: bkGraph.chartOptions.xAxis.categories,\n        series: bkGraph.chartOptions.series[0],\n        graphId: bkGraph.id,\n        cryptocurrency: {\n          value: bkGraph.cryptocurrency,\n          name: cryptocurrency\n        },\n        currency: {\n          value: bkGraph.currency,\n          name: currency\n        },\n        date: new Date(),\n        image: bkGraph.image\n      };\n      await crypto.saveGraph(graph, this.state.user._id).then(res => {\n        console.log(\"SUCCESS!\");\n      }).catch(err => console.log(\"ERROR!\", err));\n    });\n\n    _defineProperty(this, \"getFilteredCryptocurrencies\", () => {\n      const {\n        cryptocurrencies: allData,\n        searchQueryCryptocurrencies\n      } = this.state;\n      let filtered = allData;\n      if (searchQueryCryptocurrencies) filtered = allData.filter(m => m.name.toLowerCase().startsWith(searchQueryCryptocurrencies.toLowerCase()));\n      return {\n        filtered\n      };\n    });\n\n    _defineProperty(this, \"getFilteredCurrencies\", () => {\n      const {\n        currencies: allData,\n        searchQueryCurrencies\n      } = this.state;\n      let filtered = allData;\n      if (searchQueryCurrencies) filtered = allData.filter(m => m.name.toLowerCase().startsWith(searchQueryCurrencies.toLowerCase()));\n      return {\n        filtered\n      };\n    });\n\n    _defineProperty(this, \"handleSearch\", e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    });\n  }\n\n  async componentDidMount() {\n    const user = auth.getCurrentUser();\n    const jwt = auth.getJwt();\n    this.setState({\n      user,\n      jwt\n    });\n    await crypto.getCryptocurrencies().then(res => {\n      this.setState({\n        cryptocurrencies: res.data.cryptocurrencies,\n        currencies: res.data.currencies,\n        loaded: true\n      });\n    });\n    /* await crypto.getCurrencies(\"bitcoin\",\"eur\").then(res => {\r\n      const bkOptions = {...this.state.chartOptions};\r\n      bkOptions.series = [{\r\n    \ttype: \"area\",\r\n    \tname: \"BTC to EUR\",\r\n    \tdata: res.data\r\n      }]\r\n      this.setState({\r\n    \tdata: res.data,\r\n    \tchartOptions: bkOptions\r\n    \t})\r\n    }); */\n  }\n\n  render() {\n    const {\n      filtered: cryptocurrencies\n    } = this.getFilteredCryptocurrencies();\n    const {\n      filtered: currencies\n    } = this.getFilteredCurrencies();\n    return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"w-50 mx-auto text-center pt-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: cryptoImg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275\n      },\n      __self: this\n    }), __jsx(\"h1\", {\n      style: {\n        fontFamily: \"Courier New\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"Custom Data Graphs\")), __jsx(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277\n      },\n      __self: this\n    })), this.state.loaded ? __jsx(\"div\", {\n      className: \"text-center pt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"row w-75 mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"text\",\n      onChange: this.handleSearch,\n      placeholder: \"Search Cryptocurrency...\",\n      value: this.state.searchQueryCryptocurrencies,\n      name: \"searchQueryCryptocurrencies\",\n      className: \"form-control w-75\",\n      style: {\n        display: \"inline-block\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    }), __jsx(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }, \"   \", __jsx(\"i\", {\n      className: \"fas fa-search\",\n      style: {\n        display: \"inline-block\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284\n      },\n      __self: this\n    }))), __jsx(\"div\", {\n      className: \"col-md-6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, __jsx(\"select\", {\n      name: \"Cryptocurrency\",\n      onChange: e => this.changeCryptocurrency(e, \"cryptocurrencies\"),\n      disabled: !this.state.loaded,\n      className: \"form-control\",\n      style: {\n        display: \"inline-block\",\n        width: \"90%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, __jsx(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, \"Select Cryptocurrency\"), cryptocurrencies.map(item => __jsx(\"option\", {\n      value: item.id,\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, item.name, \" - \", item.symbol))), __jsx(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, \"   \", __jsx(\"i\", {\n      className: \"fas fa-hand-pointer\",\n      style: {\n        display: \"inline-block\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }))), __jsx(\"div\", {\n      className: \"col-md-6 mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"text\",\n      onChange: this.handleSearch,\n      placeholder: \"Search Currency...\",\n      value: this.state.searchQueryCurrencies,\n      name: \"searchQueryCurrencies\",\n      className: \"form-control w-75\",\n      style: {\n        display: \"inline-block\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }), __jsx(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }, \"   \", __jsx(\"i\", {\n      className: \"fas fa-search\",\n      style: {\n        display: \"inline-block\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292\n      },\n      __self: this\n    }))), __jsx(\"div\", {\n      className: \"col-md-6 mt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, __jsx(\"select\", {\n      name: \"Currency\",\n      onChange: e => this.changeCryptocurrency(e, \"currencies\"),\n      disabled: !this.state.loaded,\n      className: \"form-control\",\n      style: {\n        display: \"inline-block\",\n        width: \"90%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, __jsx(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, \"Select Currency\"), currencies.map(item => __jsx(\"option\", {\n      value: item.id,\n      key: item.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    }, item.name, \" - \", item.symbol))), __jsx(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }, \"   \", __jsx(\"i\", {\n      className: \"fas fa-hand-pointer\",\n      style: {\n        display: \"inline-block\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }))), __jsx(\"div\", {\n      className: \"col-md-6 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299\n      },\n      __self: this\n    }, \"Add graph for selected values\")), __jsx(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.addGraph,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }, __jsx(\"i\", {\n      className: \"fas fa-plus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 300\n      },\n      __self: this\n    }))), __jsx(\"div\", {\n      className: \"col-md-6 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    }, \"Refresh all graphs\")), __jsx(\"button\", {\n      className: \"btn btn-success\",\n      onClick: this.refreshAll,\n      disabled: this.state.graphs.length === 0,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }, __jsx(\"i\", {\n      className: \"fas fa-sync\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    })))), this.state.graphs.length > 0 ? this.state.graphs.map((item, index) => __jsx(\"div\", {\n      key: item.id,\n      className: \"pt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }, __jsx(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310\n      },\n      __self: this\n    }), __jsx(\"img\", {\n      src: item.image,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"row mt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 312\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"col-md-9 text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, !this.state.loading ? __jsx(ReactHighcharts, {\n      key: item.id,\n      highcharts: Highcharts,\n      config: item.chartOptions,\n      ref: \"chart\",\n      oneToOne: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }) : __jsx(\"img\", {\n      src: loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"pt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, __jsx(\"select\", {\n      name: \"Cryptocurrency\",\n      onChange: e => this.changeGraphCryptocurrency(e, index),\n      defaultValue: item.cryptocurrency,\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, this.state.cryptocurrencies.map(i => __jsx(\"option\", {\n      value: i.id,\n      key: i.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 319\n      },\n      __self: this\n    }, i.name, \" - \", i.symbol)))), __jsx(\"div\", {\n      className: \"pt-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, __jsx(\"select\", {\n      name: \"Currency\",\n      onChange: e => this.changeGraphCryptocurrency(e, index),\n      defaultValue: item.currency,\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, this.state.currencies.map(i => __jsx(\"option\", {\n      value: i.id,\n      key: i.id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, i.name, \" - \", i.symbol)))), __jsx(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 324\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"col-md-12 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, \"Live data\")), __jsx(\"input\", {\n      type: \"checkbox\",\n      onChange: e => this.changeGraphLive(e, index),\n      defaultValue: item.live,\n      className: \"form-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"col-md-6 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, \"Search\")), __jsx(\"button\", {\n      className: \"btn btn-warning\",\n      onClick: () => this.refreshSingle(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, __jsx(\"i\", {\n      className: \"fas fa-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }))), __jsx(\"div\", {\n      className: \"col-md-6 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, \"Refresh\")), __jsx(\"button\", {\n      className: \"btn btn-success\",\n      onClick: () => this.refreshSingle(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }, __jsx(\"i\", {\n      className: \"fas fa-redo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }))), __jsx(\"div\", {\n      className: \"col-md-6 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 337\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 338\n      },\n      __self: this\n    }, \"Delete\")), __jsx(\"button\", {\n      className: \"btn btn-danger\",\n      onClick: () => this.removeGraph(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, __jsx(\"i\", {\n      className: \"fas fa-minus\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }))), __jsx(\"div\", {\n      className: \"col-md-6 mt-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 342\n      },\n      __self: this\n    }, \"Save\")), __jsx(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: () => this.saveGraph(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, __jsx(\"i\", {\n      className: \"fas fa-save\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }))))))))) : \"\") : __jsx(\"div\", {\n      className: \"w-50 mx-auto text-center\",\n      style: {\n        paddingTop: \"30vh\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: loading,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["D:/WEB/crypto/client/pages/customdata.js"],"names":["React","Component","Layout","Highcharts","ReactHighcharts","update","auth","crypto","loading","cryptoImg","chartOptions","chart","zoomType","xAxis","type","dateTimeLabelFormats","day","title","text","yAxis","legend","enabled","plotOptions","area","fillColor","linearGradient","x1","y1","x2","y2","stops","marker","radius","lineWidth","states","hover","threshold","CustomData","user","jwt","data","graphs","cryptocurrencies","currencies","selectedCryptocurrency","selectedCurrency","workers","loaded","searchQueryCryptocurrencies","searchQueryCurrencies","interval","worker","Worker","bkOptions","state","onmessage","e","name","series","prices","categories","time","push","id","cryptocurrency","value","currency","live","image","setState","postMessage","array","i","length","findName","target","index","toLowerCase","Array","clearInterval","filter","item","currentTime","currentPrice","$set","checked","setInterval","liveData","bkGraph","graph","graphId","date","Date","saveGraph","_id","then","res","console","log","catch","err","allData","filtered","m","startsWith","componentDidMount","getCurrentUser","getJwt","getCryptocurrencies","render","getFilteredCryptocurrencies","getFilteredCurrencies","fontFamily","handleSearch","display","changeCryptocurrency","width","map","symbol","addGraph","refreshAll","changeGraphCryptocurrency","changeGraphLive","refreshSingle","removeGraph","paddingTop"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Layout from \"../components/layout\";\r\nimport Highcharts from 'highcharts';\r\nimport ReactHighcharts from 'react-highcharts';\r\nimport update from \"immutability-helper\";\r\n\r\nimport auth from \"../services/authService\";\r\nimport crypto from \"../services/cryptoService\";\r\n\r\nimport loading from \"../src/91.gif\";\r\nimport cryptoImg from \"../src/crypto-text.png\";\r\n\r\n\r\nconst chartOptions = {\r\n\tchart: { zoomType: 'x' },\r\n\txAxis: {\r\n\t\ttype: 'datetime',\r\n\t\tdateTimeLabelFormats: { day: '%d-%m-%Y - %h:%m' },\r\n\t\ttitle: { text: 'Date' }\r\n\t},\r\n\tyAxis: {\r\n\t\ttitle: { text: 'Exchange rate' }\r\n\t},\r\n\tlegend: { enabled: false },\r\n\tplotOptions: {\r\n\t\tarea: {\r\n\t\t\tfillColor: {\r\n\t\t\t\tlinearGradient: {\r\n\t\t\t\t\tx1: 0,\r\n\t\t\t\t\ty1: 0,\r\n\t\t\t\t\tx2: 0,\r\n\t\t\t\t\ty2: 1\r\n\t\t\t\t},\r\n\t\t\t\tstops: [\r\n\t\t\t\t\t[0, \"#7cb5ec\"],\r\n\t\t\t\t\t[0.5, \"#7cb5ec80\"],\r\n\t\t\t\t\t[0.9, \"#7cb5ff33\"]\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\tmarker: { radius: 2 },\r\n\t\t\tlineWidth: 1,\r\n\t\t\tstates: { hover: { lineWidth: 1 } },\r\n\t\t\tthreshold: null\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default class CustomData extends Component {\r\n\tstate = {\r\n\t\tuser: {},\r\n\t\tjwt: \"\",\r\n\t\tdata: [],\r\n\t\tgraphs: [],\r\n\t\tcryptocurrencies: [],\r\n\t\tcurrencies: [],\r\n\t\tselectedCryptocurrency: {},\r\n\t\tselectedCurrency: {},\r\n\t\tworkers: 0,\r\n\t\tloading: false,\r\n\t\tloaded: false,\r\n\t\tsearchQueryCryptocurrencies: \"\",\r\n\t\tsearchQueryCurrencies: \"\",\r\n\t\tinterval: [],\r\n\t\tchartOptions: {}\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tconst user = auth.getCurrentUser();\r\n\t\tconst jwt = auth.getJwt();\r\n\t\tthis.setState({ user, jwt });\r\n\t\tawait crypto.getCryptocurrencies().then(res => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tcryptocurrencies: res.data.cryptocurrencies,\r\n\t\t\t\tcurrencies: res.data.currencies,\r\n\t\t\t\tloaded: true\r\n\t\t\t})\r\n\t\t});\r\n\t\t/* await crypto.getCurrencies(\"bitcoin\",\"eur\").then(res => {\r\n\t\t  const bkOptions = {...this.state.chartOptions};\r\n\t\t  bkOptions.series = [{\r\n\t\t\ttype: \"area\",\r\n\t\t\tname: \"BTC to EUR\",\r\n\t\t\tdata: res.data\r\n\t\t  }]\r\n\t\t  this.setState({\r\n\t\t\tdata: res.data,\r\n\t\t\tchartOptions: bkOptions\r\n\t\t\t})\r\n\t\t}); */\r\n\t}\r\n\r\n\taddGraph = () => {\r\n\t\tconst worker = new Worker(\"static/service-worker.js\");\r\n\t\tconst bkOptions = { ...chartOptions };\r\n\t\tconst graphs = [...this.state.graphs];\r\n\t\tworker.onmessage = e => {\r\n\t\t\tbkOptions.title = { text: `${this.state.selectedCryptocurrency.name} to ${this.state.selectedCurrency.name} exchange rate over time` },\r\n\t\t\t\tbkOptions.series = [{\r\n\t\t\t\t\ttype: \"line\",\r\n\t\t\t\t\tname: `${this.state.selectedCryptocurrency.name} to ${this.state.selectedCurrency.name}`,\r\n\t\t\t\t\tdata: e.data.prices\r\n\t\t\t\t}]\r\n\t\t\tbkOptions.xAxis.categories = [...e.data.time];\r\n\t\t\tgraphs.push({\r\n\t\t\t\tid: Date.now(),\r\n\t\t\t\tchartOptions: bkOptions,\r\n\t\t\t\tcryptocurrency: this.state.selectedCryptocurrency.value,\r\n\t\t\t\tcurrency: this.state.selectedCurrency.value,\r\n\t\t\t\tlive: false,\r\n\t\t\t\timage: e.data.image\r\n\t\t\t})\r\n\t\t\tthis.setState({\r\n\t\t\t\tgraphs: graphs,\r\n\t\t\t\tworkers: this.state.workers + 1,\r\n\t\t\t\tinterval: \"\"\r\n\t\t\t})\r\n\t\t}\r\n\t\tworker.postMessage(`${this.state.selectedCryptocurrency.value},${this.state.selectedCurrency.value},${this.state.jwt}`);\r\n\r\n\t}\r\n\r\n\tfindName = (array, value) => {\r\n\t\tfor (let i = 0; i < this.state[array].length; i++) {\r\n\t\t\tif (this.state[array][i].id === value) {\r\n\t\t\t\treturn this.state[array][i].name;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tchangeCryptocurrency = (e, array) => {\r\n\t\tconst name = this.findName(array, e.target.value);\r\n\t\tthis.setState({\r\n\t\t\t[`selected${e.target.name}`]: {\r\n\t\t\t\tvalue: e.target.value,\r\n\t\t\t\tname: name\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tchangeGraphCryptocurrency = (e, index) => {\r\n\t\tconst graphs = [...this.state.graphs];\r\n\t\tgraphs[index][e.target.name.toLowerCase()] = e.target.value;\r\n\t\tthis.setState({ graphs: graphs })\r\n\t}\r\n\r\n\trefreshAll = () => {\r\n\t\tlet workers = new Array(this.state.workers);\r\n\t\tconst graphs = [...this.state.graphs];\r\n\t\tthis.setState({ loading: true });\r\n\t\tfor (let i = 0; i < this.state.workers; i++) {\r\n\t\t\tworkers[i] = new Worker(\"static/service-worker.js\");\r\n\t\t\tworkers[i].onmessage = e => {\r\n\t\t\t\tgraphs[i].chartOptions.xAxis.categories = [...e.data.time];\r\n\t\t\t\tgraphs[i].chartOptions.series = [{\r\n\t\t\t\t\ttype: \"line\",\r\n\t\t\t\t\tname: this.state.graphs[i].chartOptions.series[0].name,\r\n\t\t\t\t\tdata: e.data.prices\r\n\t\t\t\t}]\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tgraphs: graphs,\r\n\t\t\t\t\tloading: false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\tworkers[i].postMessage(`${graphs[i].cryptocurrency},${graphs[i].currency},${this.state.jwt}`);\r\n\t\t}\r\n\t}\r\n\r\n\trefreshSingle = (index) => {\r\n\t\tconst worker = new Worker(\"static/service-worker.js\");\r\n\t\tconst graphs = [...this.state.graphs];\r\n\t\t//this.setState({loading: true});\r\n\t\tworker.onmessage = e => {\r\n\t\t\tconst cryptocurrency= this.findName(\"cryptocurrencies\", graphs[index].cryptocurrency);\r\n\t\t\tconst currency= this.findName(\"currencies\", graphs[index].currency);\r\n\t\t\tgraphs[index].chartOptions.title = { text: `${cryptocurrency} to ${currency} exchange rate over time` },\r\n\t\t\tgraphs[index].chartOptions.xAxis.categories = [...e.data.time];\r\n\t\t\tgraphs[index].image = e.data.image;\r\n\t\t\tgraphs[index].chartOptions.series = [{\r\n\t\t\t\ttype: \"line\",\r\n\t\t\t\tname: `${graphs[index].cryptocurrency} to ${graphs[index].currency}`,\r\n\t\t\t\tdata: e.data.prices\r\n\t\t\t}]\r\n\t\t\tthis.setState({\r\n\t\t\t\tgraphs: graphs,\r\n\t\t\t\t//loading: false\r\n\t\t\t})\r\n\t\t}\r\n\t\tworker.postMessage(`${graphs[index].cryptocurrency},${graphs[index].currency},${this.state.jwt}`);\r\n\t}\r\n\r\n\tremoveGraph = (index) => {\r\n\t\tlet graphs = [...this.state.graphs];\r\n\t\tclearInterval(graphs[index].interval);\r\n\t\tgraphs = graphs.filter((item, i) => i !== index);\r\n\t\tthis.setState({ graphs });\r\n\t}\r\n\r\n\tliveData = (index) => {\r\n\t\tconst worker = new Worker(\"static/service-worker.js\");\r\n\t\tconst graphs = [...this.state.graphs];\r\n\t\tworker.onmessage = e => {\r\n\t\t\tgraphs[index].chartOptions.xAxis.categories.push(e.data.currentTime);\r\n\t\t\tgraphs[index].chartOptions.series[0].data.push(e.data.currentPrice);\r\n\t\t\tgraphs[index].chartOptions.series = [{\r\n\t\t\t\ttype: \"line\",\r\n\t\t\t\tname: this.state.graphs[index].chartOptions.series[0].name,\r\n\t\t\t\tdata: graphs[index].chartOptions.series[0].data\r\n\t\t\t}]\r\n\t\t\tthis.setState({\r\n\t\t\t\tgraphs: update(this.state.graphs, { [index]: { $set: graphs[index] } })\r\n\t\t\t})\r\n\t\t}\r\n\t\tworker.postMessage(`${graphs[index].cryptocurrency},${graphs[index].currency},${this.state.jwt}`);\r\n\t}\r\n\r\n\tchangeGraphLive = (e, index) => {\r\n\t\tconst graphs = [...this.state.graphs];\r\n\t\tif (e.target.checked) {\r\n\t\t\tgraphs[index].interval = setInterval(() => this.liveData(index), 4000);\r\n\t\t\tthis.setState({ graphs });\r\n\t\t}\r\n\t\telse {\r\n\t\t\tclearInterval(graphs[index].interval);\r\n\t\t}\r\n\t}\r\n\r\n\tsaveGraph = async (index) => {\r\n\t\tconst bkGraph = { ...this.state.graphs[index] };\r\n\t\tconst cryptocurrency= this.findName(\"cryptocurrencies\", bkGraph.cryptocurrency);\r\n\t\tconst currency= this.findName(\"currencies\", bkGraph.currency);\r\n\t\tconst graph = {\r\n\t\t\tcategories: bkGraph.chartOptions.xAxis.categories,\r\n\t\t\tseries: bkGraph.chartOptions.series[0],\r\n\t\t\tgraphId: bkGraph.id,\r\n\t\t\tcryptocurrency: {\r\n\t\t\t\tvalue: bkGraph.cryptocurrency,\r\n\t\t\t\tname: cryptocurrency\r\n\t\t\t},\r\n\t\t\tcurrency: {\r\n\t\t\t\tvalue: bkGraph.currency,\r\n\t\t\t\tname: currency\r\n\t\t\t},\r\n      date: new Date,\r\n      image: bkGraph.image\r\n\t\t}\r\n\t\tawait crypto.saveGraph(graph, this.state.user._id).then(res => { console.log(\"SUCCESS!\"); }).catch(err => console.log(\"ERROR!\", err));\r\n\t}\r\n\r\n\tgetFilteredCryptocurrencies = () => {\r\n\t\tconst { cryptocurrencies: allData, searchQueryCryptocurrencies } = this.state;\r\n\t\tlet filtered = allData;\r\n\t\tif (searchQueryCryptocurrencies) filtered = allData.filter(m => m.name.toLowerCase().startsWith(searchQueryCryptocurrencies.toLowerCase()));\r\n\t\treturn { filtered };\r\n\t};\r\n\r\n\tgetFilteredCurrencies = () => {\r\n\t\tconst { currencies: allData, searchQueryCurrencies } = this.state;\r\n\t\tlet filtered = allData;\r\n\t\tif (searchQueryCurrencies) filtered = allData.filter(m => m.name.toLowerCase().startsWith(searchQueryCurrencies.toLowerCase()));\r\n\t\treturn { filtered };\r\n\t};\r\n\r\n\thandleSearch = (e) => {\r\n\t\tthis.setState({\r\n\t\t\t[e.target.name]: e.target.value\r\n\t\t})\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { filtered: cryptocurrencies } = this.getFilteredCryptocurrencies();\r\n\t\tconst { filtered: currencies } = this.getFilteredCurrencies();\r\n\t\treturn (\r\n\t\t\t<Layout>\r\n\t\t\t\t<div className=\"w-50 mx-auto text-center pt-5\">\r\n\t\t\t\t\t<img src={cryptoImg} />\r\n\t\t\t\t\t<h1 style={{fontFamily: \"Courier New\"}}><strong>Custom Data Graphs</strong></h1>\r\n\t\t\t\t\t<hr/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{this.state.loaded ?\r\n\t\t\t\t\t<div className=\"text-center pt-2\">\r\n\t\t\t\t\t\t<div className=\"row w-75 mx-auto\">\r\n\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t<input type=\"text\" onChange={this.handleSearch} placeholder=\"Search Cryptocurrency...\" value={this.state.searchQueryCryptocurrencies} name=\"searchQueryCryptocurrencies\" className=\"form-control w-75\" style={{display: \"inline-block\"}}/>\r\n\t\t\t\t\t\t\t\t<span>   <i className=\"fas fa-search\" style={{display: \"inline-block\"}}/></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-6\">\r\n\t\t\t\t\t\t\t\t<select name=\"Cryptocurrency\" onChange={(e) => this.changeCryptocurrency(e, \"cryptocurrencies\")} disabled={!this.state.loaded} className=\"form-control\" style={{display: \"inline-block\", width: \"90%\"}}><option value=\"\">Select Cryptocurrency</option>{cryptocurrencies.map(item => (<option value={item.id} key={item.id}>{item.name} - {item.symbol}</option>))}</select>\r\n\t\t\t\t\t\t\t\t<span>   <i className=\"fas fa-hand-pointer\" style={{display: \"inline-block\"}}/></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 mt-2\">\r\n\t\t\t\t\t\t\t\t<input type=\"text\" onChange={this.handleSearch} placeholder=\"Search Currency...\" value={this.state.searchQueryCurrencies} name=\"searchQueryCurrencies\" className=\"form-control w-75\" style={{display: \"inline-block\"}}/>\r\n\t\t\t\t\t\t\t\t<span>   <i className=\"fas fa-search\" style={{display: \"inline-block\"}}/></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 mt-2\">\r\n\t\t\t\t\t\t\t\t<select name=\"Currency\" onChange={(e) => this.changeCryptocurrency(e, \"currencies\")} disabled={!this.state.loaded} className=\"form-control\" style={{display: \"inline-block\", width: \"90%\"}}><option value=\"\">Select Currency</option>{currencies.map(item => (<option value={item.id} key={item.id}>{item.name} - {item.symbol}</option>))}</select>\r\n\t\t\t\t\t\t\t\t<span>   <i className=\"fas fa-hand-pointer\" style={{display: \"inline-block\"}}/></span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 mt-3\">\r\n\t\t\t\t\t\t\t\t<p><strong>Add graph for selected values</strong></p>\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={this.addGraph}><i className=\"fas fa-plus\"/></button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-md-6 mt-3\">\r\n\t\t\t\t\t\t\t\t<p><strong>Refresh all graphs</strong></p>\r\n\t\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={this.refreshAll} disabled={this.state.graphs.length === 0}><i className=\"fas fa-sync\"/></button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.state.graphs.length > 0 ?\r\n\t\t\t\t\t\t\tthis.state.graphs.map((item, index) =>\r\n\t\t\t\t\t\t\t\t<div key={item.id} className=\"pt-3\">\r\n\t\t\t\t\t\t\t\t\t<hr/>\r\n\t\t\t\t\t\t\t\t\t<img src={item.image} />\r\n\t\t\t\t\t\t\t\t\t<div className=\"row mt-4\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-9 text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t{!this.state.loading ? <ReactHighcharts key={item.id} highcharts={Highcharts} config={item.chartOptions} ref=\"chart\" oneToOne={true} /> : <img src={loading} />}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"form-group\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"pt-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select name=\"Cryptocurrency\" onChange={(e) => this.changeGraphCryptocurrency(e, index)} defaultValue={item.cryptocurrency} className=\"form-control\">{this.state.cryptocurrencies.map(i => (<option value={i.id} key={i.id}>{i.name} - {i.symbol}</option>))}</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"pt-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<select name=\"Currency\" onChange={(e) => this.changeGraphCryptocurrency(e, index)} defaultValue={item.currency} className=\"form-control\">{this.state.currencies.map(i => (<option value={i.id} key={i.id}>{i.name} - {i.symbol}</option>))}</select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-12 mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Live data</strong></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<input type=\"checkbox\" onChange={(e) => this.changeGraphLive(e, index)} defaultValue={item.live} className=\"form-control\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Search</strong></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-warning\" onClick={() => this.refreshSingle(index)}><i className=\"fas fa-search\"/></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Refresh</strong></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-success\" onClick={() => this.refreshSingle(index)}><i className=\"fas fa-redo\"/></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Delete</strong></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-danger\" onClick={() => this.removeGraph(index)}><i className=\"fas fa-minus\"/></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-md-6 mt-3\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<p><strong>Save</strong></p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-primary\" onClick={() => this.saveGraph(index)}><i className=\"fas fa-save\"/></button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t) : \"\"}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t: <div className=\"w-50 mx-auto text-center\" style={{paddingTop: \"30vh\"}}><img src={loading} /></div>}\r\n\t\t\t</Layout>\r\n\t\t)\r\n\t}\r\n}\r\n"]},"metadata":{},"sourceType":"module"}