{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/laurentiu/Documents/crypto/client/pages/index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Layout from \"../components/layout\";\nimport io from \"socket.io-client\";\nimport auth from \"../services/authService\";\nimport crypto from \"../services/cryptoService\";\n\nclass Index extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      user: {},\n      data: {\n        data: [],\n        timestamp: \"\"\n      }\n    });\n\n    _defineProperty(this, \"handleLogout\", () => {\n      auth.logout();\n      window.location.replace(\"/login\");\n    });\n  }\n\n  async componentDidMount() {\n    const user = auth.getCurrentUser();\n    this.setState({\n      user\n    });\n    await crypto.getCurrencies().then(res => this.setState({\n      data: res.data\n    }));\n    console.log(this.state.data);\n  }\n\n  render() {\n    if (process.browser && !auth.getCurrentUser()) {\n      window.location.replace(\"/login\");\n    } else return __jsx(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, \"Hello \", this.state.user.name), __jsx(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["/home/laurentiu/Documents/crypto/client/pages/index.js"],"names":["React","Component","Layout","io","auth","crypto","Index","user","data","timestamp","logout","window","location","replace","componentDidMount","getCurrentUser","setState","getCurrencies","then","res","console","log","state","render","process","browser","name"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,EAAP,MAAe,kBAAf;AAEA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAOC,MAAP,MAAmB,2BAAnB;;AAEA,MAAMC,KAAN,SAAoBL,SAApB,CAA6B;AAAA;AAAA;;AAAA,mCACjB;AACJM,MAAAA,IAAI,EAAE,EADF;AAEJC,MAAAA,IAAI,EAAE;AACFA,QAAAA,IAAI,EAAE,EADJ;AAEFC,QAAAA,SAAS,EAAE;AAFT;AAFF,KADiB;;AAAA,0CAgBV,MAAM;AACjBL,MAAAA,IAAI,CAACM,MAAL;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB;AACH,KAnBwB;AAAA;;AASzB,QAAMC,iBAAN,GAA0B;AAC5B,UAAMP,IAAI,GAAGH,IAAI,CAACW,cAAL,EAAb;AACM,SAAKC,QAAL,CAAc;AAACT,MAAAA;AAAD,KAAd;AACA,UAAMF,MAAM,CAACY,aAAP,GAAuBC,IAAvB,CAA4BC,GAAG,IAAI,KAAKH,QAAL,CAAc;AAACR,MAAAA,IAAI,EAAEW,GAAG,CAACX;AAAX,KAAd,CAAnC,CAAN;AACAY,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,KAAL,CAAWd,IAAvB;AACH;;AAODe,EAAAA,MAAM,GAAE;AACJ,QAAGC,OAAO,CAACC,OAAR,IAAmB,CAACrB,IAAI,CAACW,cAAL,EAAvB,EAA8C;AAC1CJ,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB;AACH,KAFD,MAGK,OACD,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAU,KAAKS,KAAL,CAAWf,IAAX,CAAgBmB,IAA1B,CADJ,EAEI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADC;AAaR;;AAtCwB;;AAyC7B,eAAepB,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport Layout from \"../components/layout\";\nimport io from \"socket.io-client\";\n\nimport auth from \"../services/authService\";\nimport crypto from \"../services/cryptoService\";\n\nclass Index extends Component{\n    state = {\n        user: {},\n        data: {\n            data: [],\n            timestamp: \"\"\n        }\n    }\n\n    async componentDidMount() {\n\t\tconst user = auth.getCurrentUser();\n        this.setState({user});\n        await crypto.getCurrencies().then(res => this.setState({data: res.data}));\n        console.log(this.state.data);\n    }\n    \n    handleLogout = () => {\n        auth.logout();\n        window.location.replace(\"/login\");\n    }\n\n    render(){\n        if(process.browser && !auth.getCurrentUser()) {\n            window.location.replace(\"/login\");\n        }\n        else return (\n            <Layout>\n                <p>Hello {this.state.user.name}</p>\n                <div className=\"row\">\n                    {/* {this.state.data.data.map(item => (\n                        <div className=\"col-sm-2 border\" key={item.id}>\n                            <p>{item.name}</p>\n                            <p>{item.symbol}</p>\n                        </div>\n                    ))} */}\n                </div>\n            </Layout>\n        );\n    }\n}\n  \nexport default Index;"]},"metadata":{},"sourceType":"module"}