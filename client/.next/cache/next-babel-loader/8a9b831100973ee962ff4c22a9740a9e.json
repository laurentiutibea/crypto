{"ast":null,"code":"import _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\WEB\\\\crypto\\\\client\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { Component } from 'react';\nimport Head from \"next/head\";\nimport Navbar from \"../components/navbar\";\nimport Footer from \"../components/footer\";\nimport io from \"socket.io-client\";\nimport auth from \"../services/authService\";\nimport \"../static/style.css\";\n\nclass Index extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      user: {}\n    });\n\n    _defineProperty(this, \"handleReq\", () => {\n      // fetch(\"http://localhost:3900/api/crypto\").then(res => res.json()).then(res => console.log(\"RESULT::: \", res));\n      const socket = io(\"wss://ws.coincap.io/trades/binance\");\n      socket.onmessage(\"now\", data => {\n        console.log(\"DATA: \", data);\n      });\n    });\n\n    _defineProperty(this, \"handleLogout\", () => {\n      auth.logout();\n      window.location.replace(\"/login\");\n    });\n  }\n\n  componentDidMount() {\n    const user = auth.getCurrentUser();\n    this.setState({\n      user\n    });\n  }\n\n  render() {\n    if (process.browser && !auth.getCurrentUser()) {\n      window.location.replace(\"/login\");\n    } else return __jsx(\"div\", {\n      className: \"main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, __jsx(Head, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, \"Login\"), __jsx(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n      integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n      crossorigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    })), __jsx(Navbar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Hello \", this.state.user.name), __jsx(\"button\", {\n      onClick: () => {\n        const response = fetch(\"https://api.coincap.io/v2/assets\", {\n          method: \"GET\",\n          redirect: \"follow\"\n        }).then(res => res.json()).then(res => console.log(res));\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"GET ASSETS\"), __jsx(\"button\", {\n      onClick: this.handleReq,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, \"GET WS\")), __jsx(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Index;","map":{"version":3,"sources":["D:/WEB/crypto/client/pages/index.js"],"names":["React","Component","Head","Navbar","Footer","io","auth","Index","user","socket","onmessage","data","console","log","logout","window","location","replace","componentDidMount","getCurrentUser","setState","render","process","browser","state","name","response","fetch","method","redirect","then","res","json","handleReq"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,EAAP,MAAe,kBAAf;AAEA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,OAAO,qBAAP;;AAEA,MAAMC,KAAN,SAAoBN,SAApB,CAA6B;AAAA;AAAA;;AAAA,mCACjB;AACJO,MAAAA,IAAI,EAAE;AADF,KADiB;;AAAA,uCAUb,MAAM;AACd;AACA,YAAMC,MAAM,GAAGJ,EAAE,CAAC,oCAAD,CAAjB;AACAI,MAAAA,MAAM,CAACC,SAAP,CAAiB,KAAjB,EAAwBC,IAAI,IAAI;AAC5BC,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBF,IAArB;AACH,OAFD;AAGH,KAhBwB;;AAAA,0CAkBV,MAAM;AACjBL,MAAAA,IAAI,CAACQ,MAAL;AACAC,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB;AACH,KArBwB;AAAA;;AAKzBC,EAAAA,iBAAiB,GAAG;AACtB,UAAMV,IAAI,GAAGF,IAAI,CAACa,cAAL,EAAb;AACM,SAAKC,QAAL,CAAc;AAACZ,MAAAA;AAAD,KAAd;AACH;;AAeDa,EAAAA,MAAM,GAAE;AACJ,QAAGC,OAAO,CAACC,OAAR,IAAmB,CAACjB,IAAI,CAACa,cAAL,EAAvB,EAA8C;AAC1CJ,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,QAAxB;AACH,KAFD,MAGK,OACD;AAAK,MAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,MAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,EAEI;AAAM,MAAA,GAAG,EAAC,YAAV;AAAuB,MAAA,IAAI,EAAC,0EAA5B;AAAuG,MAAA,SAAS,EAAC,yEAAjH;AAA2L,MAAA,WAAW,EAAC,WAAvM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,EAKI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAMI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAU,KAAKO,KAAL,CAAWhB,IAAX,CAAgBiB,IAA1B,CADJ,EAEI;AAAQ,MAAA,OAAO,EAAE,MAAM;AACnB,cAAMC,QAAQ,GAAGC,KAAK,CAAC,kCAAD,EAAqC;AACvDC,UAAAA,MAAM,EAAE,KAD+C;AAEvDC,UAAAA,QAAQ,EAAE;AAF6C,SAArC,CAAL,CAGdC,IAHc,CAGTC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAHE,EAGUF,IAHV,CAGeC,GAAG,IAAInB,OAAO,CAACC,GAAR,CAAYkB,GAAZ,CAHtB,CAAjB;AAIH,OALD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,EAQI;AAAQ,MAAA,OAAO,EAAE,KAAKE,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARJ,CANJ,EAgBI,MAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAhBJ,CADC;AAoBR;;AA/CwB;;AAkD7B,eAAe1B,KAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport Head from \"next/head\";\r\nimport Navbar from \"../components/navbar\";\r\nimport Footer from \"../components/footer\";\r\nimport io from \"socket.io-client\";\r\n\r\nimport auth from \"../services/authService\";\r\nimport \"../static/style.css\";\r\n\r\nclass Index extends Component{\r\n    state = {\r\n        user: {}\r\n    }\r\n\r\n    componentDidMount() {\r\n\t\tconst user = auth.getCurrentUser();\r\n        this.setState({user});\r\n    }\r\n\r\n    handleReq = () => {\r\n        // fetch(\"http://localhost:3900/api/crypto\").then(res => res.json()).then(res => console.log(\"RESULT::: \", res));\r\n        const socket = io(\"wss://ws.coincap.io/trades/binance\");\r\n        socket.onmessage(\"now\", data => {\r\n            console.log(\"DATA: \",data);\r\n        })\r\n    }\r\n    \r\n    handleLogout = () => {\r\n        auth.logout();\r\n        window.location.replace(\"/login\");\r\n    }\r\n\r\n    render(){\r\n        if(process.browser && !auth.getCurrentUser()) {\r\n            window.location.replace(\"/login\");\r\n        }\r\n        else return (\r\n            <div className=\"main\">\r\n                <Head>\r\n                    <title>Login</title>\r\n                    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"/>\r\n                </Head>\r\n                <Navbar/>\r\n                <div className=\"container\">\r\n                    <p>Hello {this.state.user.name}</p>\r\n                    <button onClick={() => {\r\n                        const response = fetch(\"https://api.coincap.io/v2/assets\", {\r\n                            method: \"GET\",\r\n                            redirect: \"follow\"\r\n                        }).then(res => res.json()).then(res => console.log(res));\r\n                    }}>GET ASSETS</button>\r\n                    <button onClick={this.handleReq}>GET WS</button>\r\n                </div>\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n  \r\nexport default Index;"]},"metadata":{},"sourceType":"module"}