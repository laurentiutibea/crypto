{"ast":null,"code":"import _Object$defineProperty from \"@babel/runtime-corejs2/core-js/object/define-property\";\nimport _Object$defineProperties from \"@babel/runtime-corejs2/core-js/object/define-properties\";\nimport _Object$getOwnPropertyDescriptors from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptors\";\nimport _Object$getOwnPropertyDescriptor from \"@babel/runtime-corejs2/core-js/object/get-own-property-descriptor\";\nimport _Object$getOwnPropertySymbols from \"@babel/runtime-corejs2/core-js/object/get-own-property-symbols\";\nimport _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\WEB\\\\crypto\\\\client\\\\pages\\\\register.js\";\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = _Object$keys(object); if (_Object$getOwnPropertySymbols) { var symbols = _Object$getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return _Object$getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (_Object$getOwnPropertyDescriptors) { _Object$defineProperties(target, _Object$getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { _Object$defineProperty(target, key, _Object$getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport Head from \"next/head\";\nimport user from \"../services/userService\";\nimport crypto from \"../services/cryptoService\";\nimport cryptoImg from \"../src/crypto-text.png\";\nimport \"../static/style.css\";\nexport default class Login extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      data: {\n        name: \"\",\n        email: \"\",\n        password: \"\"\n      },\n      error: \"\"\n    });\n\n    _defineProperty(this, \"validate\", () => {\n      return !(this.state.data.name !== \"\" && this.state.data.email !== \"\" && this.state.data.password !== \"\");\n    });\n\n    _defineProperty(this, \"handleChange\", e => {\n      const data = _objectSpread({}, this.state.data);\n\n      data[e.target.name] = e.target.value;\n      this.setState({\n        data\n      });\n    });\n\n    _defineProperty(this, \"doSubmit\", async e => {\n      e.preventDefault();\n\n      try {\n        const {\n          data\n        } = this.state;\n        const responseUser = await user.register(data);\n        await crypto.createUserGraphs(responseUser.data._id);\n        window.location.replace(\"/login\");\n      } catch (ex) {\n        if (ex.response && ex.response.status === 400) {\n          this.setState({\n            error: \"Email is already registered!\"\n          });\n        }\n      }\n    });\n  }\n\n  render() {\n    return __jsx(\"div\", {\n      className: \"container\",\n      style: {\n        marginTop: \"15%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, __jsx(Head, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"Register\"), __jsx(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n      integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n      crossorigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    })), __jsx(\"div\", {\n      className: \"card w-50 mx-auto shadow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"card-body text-center pt-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, __jsx(\"img\", {\n      src: cryptoImg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), __jsx(\"h1\", {\n      style: {\n        fontFamily: \"Courier New\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Register\")), __jsx(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), __jsx(\"form\", {\n      onSubmit: this.doSubmit,\n      method: \"POST\",\n      className: \"m-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, __jsx(\"div\", {\n      className: \"form-group input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, __jsx(\"input\", {\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"Name\",\n      value: this.state.data.name,\n      onChange: this.handleChange,\n      className: \"form-control mb-3 mt-2 shadow w-75 mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }), __jsx(\"input\", {\n      type: \"text\",\n      name: \"email\",\n      placeholder: \"Email\",\n      value: this.state.data.email,\n      onChange: this.handleChange,\n      className: \"form-control mb-3 mt-2 shadow w-75 mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), __jsx(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      placeholder: \"Password\",\n      value: this.state.data.password,\n      onChange: this.handleChange,\n      className: \"form-control mb-3 shadow w-75 mx-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), __jsx(\"button\", {\n      disabled: this.validate(),\n      className: \"btn btn-success mt-2 mb-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, \"Register\"))), __jsx(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, __jsx(\"p\", {\n      className: \"text-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, __jsx(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, this.state.error))))));\n  }\n\n}","map":{"version":3,"sources":["D:/WEB/crypto/client/pages/register.js"],"names":["React","Component","Head","user","crypto","cryptoImg","Login","data","name","email","password","error","state","e","target","value","setState","preventDefault","responseUser","register","createUserGraphs","_id","window","location","replace","ex","response","status","render","marginTop","fontFamily","doSubmit","handleChange","validate"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport Head from \"next/head\";\r\n\r\nimport user from \"../services/userService\";\r\nimport crypto from \"../services/cryptoService\";\r\nimport cryptoImg from \"../src/crypto-text.png\";\r\nimport \"../static/style.css\";\r\n\r\nexport default class Login extends Component {\r\n    state = {\r\n        data: {\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\"\r\n        },\r\n        error: \"\"\r\n    }\r\n\r\n    validate = () => {\r\n        return !(this.state.data.name !== \"\" && this.state.data.email !== \"\" && this.state.data.password !== \"\");\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        const data = {...this.state.data};\r\n        data[e.target.name] = e.target.value;\r\n        this.setState({data});\r\n    }\r\n\r\n    doSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try{\r\n            const {data} = this.state;\r\n            const responseUser = await user.register(data);\r\n            await crypto.createUserGraphs(responseUser.data._id);\r\n            \r\n            window.location.replace(\"/login\");\r\n        }\r\n        catch(ex){\r\n            if(ex.response && ex.response.status === 400){\r\n                this.setState({error:\"Email is already registered!\"});\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\" style={{marginTop:\"15%\"}}>\r\n                <Head>\r\n                    <title>Register</title>\r\n                    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"/>\r\n                </Head>\r\n                <div className=\"card w-50 mx-auto shadow\">\r\n                    <div className=\"card-body text-center pt-4\">\r\n                        <img src={cryptoImg}/>\r\n                        <h1 style={{fontFamily: \"Courier New\"}}><strong>Register</strong></h1>\r\n\t\t\t\t\t    <hr/>\r\n                        <form onSubmit={this.doSubmit} method=\"POST\" className=\"m-auto\">\r\n                            <div className=\"form-group input\">\r\n                                <input type=\"text\" name=\"name\" placeholder=\"Name\" value={this.state.data.name} onChange={this.handleChange} className=\"form-control mb-3 mt-2 shadow w-75 mx-auto\"/>\r\n                                <input type=\"text\" name=\"email\" placeholder=\"Email\" value={this.state.data.email} onChange={this.handleChange} className=\"form-control mb-3 mt-2 shadow w-75 mx-auto\"/>\r\n                                <input type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.data.password} onChange={this.handleChange} className=\"form-control mb-3 shadow w-75 mx-auto\"/>\r\n                                <button disabled={this.validate()} className=\"btn btn-success mt-2 mb-2\">Register</button>\r\n                            </div>\r\n                        </form>\r\n                        <div>\r\n                            <p className=\"text-danger\"><strong>{this.state.error}</strong></p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}