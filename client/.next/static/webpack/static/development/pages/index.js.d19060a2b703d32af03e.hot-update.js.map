{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.d19060a2b703d32af03e.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport Head from \"next/head\";\r\nimport Navbar from \"../components/navbar\";\r\nimport Footer from \"../components/footer\";\r\nimport io from \"socket.io-client\";\r\n\r\nimport auth from \"../services/authService\";\r\nimport \"../static/style.css\";\r\n\r\nclass Index extends Component{\r\n    state = {\r\n        user: {}\r\n    }\r\n\r\n    componentDidMount() {\r\n\t\tconst user = auth.getCurrentUser();\r\n        this.setState({user});\r\n    }\r\n\r\n    handleReq = () => {\r\n        // fetch(\"http://localhost:3900/api/crypto\").then(res => res.json()).then(res => console.log(\"RESULT::: \", res));\r\n        const socket = io(\"https://ws.coincap.io/prices?assets=ALL\", {transports: ['websocket']});\r\n        socket.on(\"assets\", data => {\r\n            console.log(\"DATA: \",data);\r\n        })\r\n    }\r\n    \r\n    handleLogout = () => {\r\n        auth.logout();\r\n        window.location.replace(\"/login\");\r\n    }\r\n\r\n    render(){\r\n        if(process.browser && !auth.getCurrentUser()) {\r\n            window.location.replace(\"/login\");\r\n        }\r\n        else return (\r\n            <div className=\"main\">\r\n                <Head>\r\n                    <title>Login</title>\r\n                    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"/>\r\n                </Head>\r\n                <Navbar/>\r\n                <div className=\"container\">\r\n                    <p>Hello {this.state.user.name}</p>\r\n                    <button onClick={() => {\r\n                        const response = fetch(\"https://api.coincap.io/v2/assets\", {\r\n                            method: \"GET\",\r\n                            redirect: \"follow\"\r\n                        }).then(res => res.json()).then(res => console.log(res));\r\n                    }}>GET ASSETS</button>\r\n                    <button onClick={this.handleReq}>GET WS</button>\r\n                </div>\r\n                <Footer/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n  \r\nexport default Index;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;AAQA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;AAjBA;AACA;AACA;AAAA;AAAA;AACA;;;AAeA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAFA;AAGA;AAAA;AAAA;AAAA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;AA/CA;AACA;AAiDA;;;;A","sourceRoot":""}