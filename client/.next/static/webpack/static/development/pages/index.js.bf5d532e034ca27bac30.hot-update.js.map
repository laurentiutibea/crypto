{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.bf5d532e034ca27bac30.hot-update.js","sources":["webpack:///./services/authService.js"],"sourcesContent":["import http from \"./httpService\";\r\nimport {apiUrl} from \"../config\";\r\nimport jwtDecode from \"jwt-decode\";\r\n\r\nconst apiEndpoit = apiUrl + \"/auth\";\r\nconst tokenKey = \"token\";\r\n\r\nexport async function login(email, password){\r\n\tconst {data: jwt} = await http.post(apiEndpoit, {email, password});\r\n\tlocalStorage.setItem(tokenKey, jwt);\r\n}\r\n\r\nexport async function confirmLogin(email, password){\r\n\treturn await http.post(apiEndpoit, {email, password});\r\n}\r\n\r\nexport function loginWithJwt(jwt){\r\n\tlocalStorage.setItem(tokenKey, jwt);\r\n}\r\n\r\nexport async function logout(){\r\n\tlocalStorage.removeItem(tokenKey);\r\n}\r\n\r\nexport function getCurrentUser(){\r\n\ttry{\r\n\t\tconst jwt = localStorage.getItem(\"token\");\r\n\t\thttp.setJwt(getJwt());\r\n\t\treturn jwtDecode(jwt);\r\n\t}\r\n\tcatch(ex){\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nexport function getJwt(){\r\n\tconst jwt = localStorage.getItem(tokenKey);\r\n\treturn jwt;\r\n}\r\n\r\nexport default{\r\n\tlogin,\r\n\tconfirmLogin,\r\n\tloginWithJwt,\r\n\tlogout,\r\n\tgetCurrentUser,\r\n\tgetJwt,\r\n\tsetJwtoken\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AACA;;;;AADA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAAA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAKA;AAAA;AAAA;AACA;;;;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAFA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAIA;AACA;AACA;AAEA;AAAA;AAAA;AACA;;;;AADA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;A","sourceRoot":""}