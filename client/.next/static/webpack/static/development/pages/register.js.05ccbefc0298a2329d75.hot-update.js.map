{"version":3,"file":"static/webpack/static\\development\\pages\\register.js.05ccbefc0298a2329d75.hot-update.js","sources":["webpack:///./pages/register.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport Head from \"next/head\";\r\n\r\nimport user from \"../services/userService\";\r\nimport crypto from \"../services/cryptoService\";\r\nimport cryptoImg from \"../src/crypto-text.png\";\r\nimport \"../static/style.css\";\r\n\r\nexport default class Login extends Component {\r\n    state = {\r\n        data: {\r\n            name: \"\",\r\n            email: \"\",\r\n            password: \"\"\r\n        },\r\n        error: \"\"\r\n    }\r\n\r\n    validate = () => {\r\n        return !(this.state.data.name !== \"\" && this.state.data.email !== \"\" && this.state.data.password !== \"\");\r\n    };\r\n\r\n    handleChange = (e) => {\r\n        const data = {...this.state.data};\r\n        data[e.target.name] = e.target.value;\r\n        this.setState({data});\r\n    }\r\n\r\n    doSubmit = async (e) => {\r\n        e.preventDefault();\r\n        try{\r\n            const {data} = this.state;\r\n            const responseUser = await user.register(data);\r\n            await crypto.createUserGraphs(responseUser.data._id);\r\n            \r\n            window.location.replace(\"/login\");\r\n        }\r\n        catch(ex){\r\n            if(ex.response && ex.response.status === 400){\r\n                console.log(ex.response);\r\n                this.setState({error:\"Email is already registered!\"});\r\n            }\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\" style={{marginTop:\"15%\"}}>\r\n                <Head>\r\n                    <title>Register</title>\r\n                    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"/>\r\n                </Head>\r\n                <div className=\"card w-50 mx-auto shadow\">\r\n                    <div className=\"card-body text-center pt-4\">\r\n                        <img src={cryptoImg}/>\r\n                        <h1 style={{fontFamily: \"Courier New\"}}><strong>Register</strong></h1>\r\n\t\t\t\t\t    <hr/>\r\n                        <form onSubmit={this.doSubmit} method=\"POST\" className=\"m-auto\">\r\n                            <div className=\"form-group input\">\r\n                                <input type=\"text\" name=\"name\" placeholder=\"Name\" value={this.state.data.name} onChange={this.handleChange} className=\"form-control mb-3 mt-2 shadow w-75 mx-auto\"/>\r\n                                <input type=\"text\" name=\"email\" placeholder=\"Email\" value={this.state.data.email} onChange={this.handleChange} className=\"form-control mb-3 mt-2 shadow w-75 mx-auto\"/>\r\n                                <input type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.data.password} onChange={this.handleChange} className=\"form-control mb-3 shadow w-75 mx-auto\"/>\r\n                                <button disabled={this.validate()} className=\"btn btn-success mt-2 mb-2\">Register</button>\r\n                            </div>\r\n                        </form>\r\n                        <div>\r\n                            <p className=\"text-danger\"><strong>{this.state.error}</strong></p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AANA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AACA;AADA;AAIA;AAJA;AAAA;AACA;AADA;AAOA;AAPA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AASA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAgBA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AAhEA;AACA;;;;;A","sourceRoot":""}