{"version":3,"file":"static/webpack/static/development/pages/register.js.a5113cc4f74c3d13d286.hot-update.js","sources":["webpack:///./pages/register.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Head from \"next/head\";\n\nimport user from \"../services/userService\";\nimport crypto from \"../services/cryptoService\";\n\nexport default class Login extends Component {\n    state = {\n        data: {\n            name: \"\",\n            email: \"\",\n            password: \"\"\n        },\n        error: \"\"\n    }\n\n    validate = () => {\n        return !(this.state.data.name !== \"\" && this.state.data.email !== \"\" && this.state.data.password !== \"\");\n    };\n\n    handleChange = (e) => {\n        const data = {...this.state.data};\n        data[e.target.name] = e.target.value;\n        this.setState({data});\n    }\n\n    doSubmit = async (e) => {\n        e.preventDefault();\n        try{\n            const {data} = this.state;\n            await user.register(data).then(res => crypto.createUserGraphs(res.data));\n            \n            window.location.replace(\"/login\");\n        }\n        catch(ex){\n            if(ex.response && ex.response.status === 400){\n                this.setState({error:\"Email is already registered!\"});\n            }\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"container\" style={{marginTop:\"15%\"}}>\n                <Head>\n                    <title>Register</title>\n                    <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"/>\n                </Head>\n                <div className=\"card w-50 mx-auto\">\n                    <div className=\"card-body text-center pt-4\">\n                        <h5 className=\"card-title\">Register Page</h5>\n                        <form onSubmit={this.doSubmit} method=\"POST\" className=\"m-auto\">\n                            <div className=\"form-group input\">\n                                <input type=\"text\" name=\"name\" placeholder=\"Name\" value={this.state.data.name} onChange={this.handleChange} className=\"form-control mb-3 mt-2\"/>\n                                <input type=\"text\" name=\"email\" placeholder=\"Email\" value={this.state.data.email} onChange={this.handleChange} className=\"form-control mb-3 mt-2\"/>\n                                <input type=\"password\" name=\"password\" placeholder=\"Password\" value={this.state.data.password} onChange={this.handleChange} className=\"form-control mb-3\"/>\n                                <button disabled={this.validate()} className=\"btn btn-success mt-2 mb-2\">Register</button>\n                            </div>\n                        </form>\n                        <div>\n                            <p className=\"text-danger\"><strong>{this.state.error}</strong></p>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AANA;AACA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AAIA;AAAA;AACA;AALA;AAMA;AANA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAQA;AACA;AAAA;AAAA;AACA;AACA;AAZA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAcA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AA5DA;AACA;;;;;A","sourceRoot":""}